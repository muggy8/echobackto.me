importScripts("https://storage.googleapis.com/workbox-cdn/releases/3.6.1/workbox-sw.js");const precacheController=new workbox.precaching.PrecacheController,rootAssetRegex=/^(https?:)?\//;function generatePrecacheObject(e,t){return{url:rootAssetRegex.test(e)?e:"/"+e,revision:t[e]}}function updatePrecacheController(){return updatePrecacheController.ready=fetch("/assets.json").then(e=>e.json()).then(e=>Object.getOwnPropertyNames(e).map(t=>generatePrecacheObject(t,e))).then(e=>precacheController.addToCacheList(e)).then(()=>precacheController.install()).then(()=>precacheController.activate()).then(()=>console.log(precacheController.getCachedUrls()))}updatePrecacheController.ready=Promise.resolve(),self.addEventListener("install",function(e){e.waitUntil(updatePrecacheController())}),self.addEventListener("fetch",function(e){"navigate"===e.request.mode?(updatePrecacheController(),e.respondWith(caches.match(e.request))):e.respondWith(updatePrecacheController.ready.then(async()=>{const t=await caches.match(e.request);if(console.log(t),t)return t;{const t=await fetch(e.request);return await caches.open(precacheController._cacheName).then(r=>r.put(e.request,t.clone())),t}}))});