App.Components.Recorder=function({div:e,label:t,button:r,input:i,span:s}){var a="deps/chrome_ogg_encoder/ogg_encoder_worker.js";return class extends React.Component{constructor(e){super(e);this.state=e.state,this.state.list=[]}componentWillUnmount(){this.state.recorder&&this.state.recorder.end()}render(){var t=Object.prototype.hasOwnProperty.call(this.state,"recorder");return e({className:"content"},e(e("Ambient Noise Levels "),e({className:"flex hcenter island"},e({className:"flex-responsive vhcenter text-right"},e({className:"cell-h"},s("Left: "),i({value:this.state.newLAvgDiff||this.state.recorder&&this.state.recorder.lAvgDiff||"",type:"number",min:0,max:1,onChange:e=>this.setState({newLAvgDiff:e.target.value}),disabled:t?void 0:"disabled",placeholder:"Ambient L",size:5})),e({className:"cell-h"},s("Right: "),i({value:this.state.newRAvgDiff||this.state.recorder&&this.state.recorder.rAvgDiff||"",type:"number",min:0,max:1,onChange:e=>this.setState({newRAvgDiff:e.target.value}),disabled:t?void 0:"disabled",placeholder:"Ambient R",size:5}))),t?r({onClick:()=>this.setState({newLAvgDiff:this.state.recorder.setAvarage(this.state.newLAvgDiff,this.state.newRAvgDiff),newRAvgDiff:void 0}),className:"island-h"},"Update"):null)),e(r({className:"fs-1.5em",onClick:()=>{var e;t&&"end"===this.state.recorder.recordState?e=autoRecorder({workerPath:a,lAvgDiff:this.state.recorder.lAvgDiff,rAvgDiff:this.state.recorder.rAvgDiff}).then(e=>this.setState({recorder:e,recording:!0})).then(()=>n(this.state.recorder,this)):t?(this.state.recorder.end(),this.setState({recording:!1}),e=Promise.resolve()):e=autoRecorder({workerPath:a}).then(e=>this.setState({recorder:e,recording:!0})).then(()=>n(this.state.recorder,this)),this.setState({waitingOn:e}),e.then(()=>this.setState(t=>({waitingOn:t.waitingOn===e?void 0:t.waitingOn})))}},function(e){var t=Object.prototype.hasOwnProperty.call(e,"recorder"),r=!!e.waitingOn;if(!t&&r)return"calibrating...";if(!t)return"Calibrate and Began Recording";if(t&&!e.recording)return"Begin Recording";if(t)return"Stop Recording"}(this.state))),React.createElement(App.Components.RecordingList,{list:this.state.list,playbackComplete:function(){this.state.recorder.recordState="standby"}.bind(this)}))}};function n(e,t=this){e.onRecording=function(e){var t="data:audio/ogg;base64,"+function(e){for(var t="",r=new Uint8Array(e),i=r.byteLength,s=0;s<i;s++)t+=String.fromCharCode(r[s]);return window.btoa(t)}(e.buffer);this.setState({list:this.state.list.concat([{audio:t,id:(""+1e7+-1e3+-4e3+-8e3+-1e11).replace(/1|0/g,function(){return(0|16*Math.random()).toString(16)})}])}),this.state.recorder.recordState="playback"}.bind(t)}}(REP);